"use strict";const ThemeToggle={elements:{desktopToggle:null,mobileToggle:null},init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.elements.desktopToggle=document.getElementById("theme-toggle"),this.elements.mobileToggle=document.getElementById("theme-toggle-mobile")},bindEvents:function(){const e=this;this.elements.desktopToggle&&this.elements.desktopToggle.addEventListener("click",function(){e.handleToggle(this)}),this.elements.mobileToggle&&this.elements.mobileToggle.addEventListener("click",function(){e.handleToggle(this)})},handleToggle:function(e){const t="theme-toggle"===e.id,n=document.getElementById(t?"toggle-knob":"toggle-knob-mobile"),s=n.parentElement;n.style.animation="toggleAttempt 0.6s ease-in-out",s.style.animation="bgColorFlash 0.6s ease-in-out",e.style.animation="shake 0.5s ease-in-out 0.3s",setTimeout(function(){n.style.animation="",s.style.animation="",e.style.animation=""},900),this.showHaramAlert()},showHaramAlert:function(){const e=document.createElement("div");e.id="haram-alert",e.className="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-md",e.style.animation="fadeIn 0.5s ease-out";const t=document.createElement("div");t.className="relative max-w-2xl w-full mx-4",t.style.animation="missionFailedSlide 0.8s ease-out",t.innerHTML='\n            \x3c!-- Top border accent --\x3e\n            <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-red-dawn to-transparent"></div>\n            \n            \x3c!-- Main content --\x3e\n            <div class="relative bg-gradient-to-br from-gunmetal-gray/90 to-black-base/90 backdrop-blur-sm border-2 border-red-dawn/50 p-8 sm:p-12 text-center overflow-hidden">\n                \x3c!-- Diagonal stripes background --\x3e\n                <div class="absolute inset-0 opacity-5 pointer-events-none" style="background: repeating-linear-gradient(45deg, transparent, transparent 10px, #B62828 10px, #B62828 20px);"></div>\n                \n                \x3c!-- Corner accents --\x3e\n                <div class="absolute top-0 left-0 w-4 h-4 border-t-4 border-l-4 border-red-dawn"></div>\n                <div class="absolute top-0 right-0 w-4 h-4 border-t-4 border-r-4 border-red-dawn"></div>\n                <div class="absolute bottom-0 left-0 w-4 h-4 border-b-4 border-l-4 border-red-dawn"></div>\n                <div class="absolute bottom-0 right-0 w-4 h-4 border-b-4 border-r-4 border-red-dawn"></div>\n                \n                \x3c!-- Content --\x3e\n                <div class="relative z-10">\n                    \x3c!-- Mission Failed Icon --\x3e\n                    <div class="mb-6 flex justify-center">\n                        <div class="relative">\n                            <svg class="w-20 h-20 sm:w-24 sm:h-24 text-red-dawn mission-failed-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n                            </svg>\n                            <div class="absolute inset-0 bg-red-dawn/30 blur-2xl animate-pulse"></div>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- Status indicator --\x3e\n                    <div class="flex items-center justify-center gap-2 mb-4">\n                        <div class="w-3 h-3 bg-red-dawn rounded-full animate-pulse"></div>\n                        <span class="text-xs sm:text-sm font-mono text-red-dawn tracking-widest uppercase">// System Alert</span>\n                    </div>\n                    \n                    \x3c!-- Mission Failed title --\x3e\n                    <h3 class="text-4xl sm:text-5xl md:text-6xl font-russo text-red-dawn mb-6 tracking-wider mission-failed-text">\n                        MISSION FAILED\n                    </h3>\n                    \n                    \x3c!-- Custom message --\x3e\n                    <div class="mb-8 px-4">\n                        <p class="text-lg sm:text-xl md:text-2xl font-roboto-condensed text-text-primary leading-relaxed tracking-wide">\n                            Брат, светлая тема это харам!\n                        </p>\n                    </div>\n                    \n                    \x3c!-- Divider --\x3e\n                    <div class="flex items-center justify-center gap-4 mb-8">\n                        <div class="h-px w-16 bg-gradient-to-r from-transparent to-red-dawn"></div>\n                        <span class="text-xs font-mono text-text-secondary tracking-wider">ERROR CODE: 418</span>\n                        <div class="h-px w-16 bg-gradient-to-l from-transparent to-red-dawn"></div>\n                    </div>\n                    \n                    \x3c!-- Action button --\x3e\n                    <button id="close-alert" class="relative group">\n                        <div class="relative bg-red-dawn hover:bg-red-crimson border-2 border-red-dawn transition-all px-8 py-3 sm:px-10 sm:py-4">\n                            \x3c!-- Button corners --\x3e\n                            <div class="absolute top-0 left-0 w-3 h-3 bg-black-base"></div>\n                            <div class="absolute top-0 right-0 w-3 h-3 bg-black-base"></div>\n                            <div class="absolute bottom-0 left-0 w-3 h-3 bg-black-base"></div>\n                            <div class="absolute bottom-0 right-0 w-3 h-3 bg-black-base"></div>\n                            \n                            <div class="flex items-center justify-center gap-3">\n                                <span class="font-russo text-text-primary text-base sm:text-lg tracking-wider uppercase">Понял, принял</span>\n                                <svg class="w-5 h-5 text-text-primary transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>\n                                </svg>\n                            </div>\n                        </div>\n                    </button>\n                </div>\n            </div>\n            \n            \x3c!-- Bottom border accent --\x3e\n            <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-red-dawn to-transparent"></div>\n        ',e.appendChild(t),document.body.appendChild(e),document.getElementById("close-alert").addEventListener("click",function(){e.style.animation="fadeOut 0.4s ease-out",setTimeout(function(){e.remove()},400)}),e.addEventListener("click",function(t){t.target===e&&(e.style.animation="fadeOut 0.4s ease-out",setTimeout(function(){e.remove()},400))});const n=function(t){"Escape"===t.key&&(e.style.animation="fadeOut 0.4s ease-out",setTimeout(function(){e.remove(),document.removeEventListener("keydown",n)},400))};document.addEventListener("keydown",n)}};document.addEventListener("DOMContentLoaded",function(){ThemeToggle.init()});